<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OmniCard</title>

  <link rel="stylesheet" href="css/bootstrap.min.css"/>
  <link rel="stylesheet" href="css/bootstrap-responsive.min.css"/>
  <link rel="stylesheet" href="css/deckNav.css"/>
  <link rel="stylesheet" href="css/deckView.css"/>
  <link rel="stylesheet" href="css/root.css"/>


  <script src="js/lodash.js"></script>
  <script src="js/jquery.js"></script>
  <script src="js/jquery.form2JSON.js"></script>
  <script src="js/Chitin.js"></script>


  <script src="js/widgets.js"></script>
  <script src="js/PredefinedDecks.js"></script>
  <script src="js/omnicard.js"></script>
</head>
<body>
  <div class="container-fluid js-root root" data-widget="Root"></div>


  <script class="js-tpl-root" type="text/x-template">
    <div class="row-fluid js-pristine root-pristine root-hero"></div>

    <div class="row-fluid root-work">
      <h3 class="muted span6 offset3 hidden-phone">OmniCard</h3>
    </div>

    <div class="row-fluid root-work">

      <div class="span3">
        <div class="well sidebar-nav js-nav deckNav"></div>
      </div>

      <div class="span9">

        <div class="js-start"></div>

        <div class="js-deck deckView"></div>

        <div class="js-edit"></div>

        <div class="js-settings"></div>

        <div class="js-dump"></div>
      </div>
    </div>

    <hr class="hidden-phone"/>

    <footer class="hidden-phone">
      <ul class="inline">
        <li>© OmniCard, 2013</li>
        <li><a href="http://github.com/hogart/OmniCard">GitHub</a></li>
        <li><a href="https://github.com/hogart/OmniCard/blob/master/LICENSE.md">MIT license</a></li>
      </ul>
      <p></p>
    </footer>
  </script>

  <script class="js-tpl-nav" type="text/x-template">
    <ul class="nav nav-list">
      <li class="nav-header"><h6><i class="icon-book"></i> Decks</h6></li>
      <% _.each(decks, function(deck, id) { %><li class="deckNav-item deckNav-item__deck js-deckItem" data-id="<%= id %>"><%= deck.name %></li><% }); %>
      <li class="deckNav-item js-addDeck"><i class="icon-plus"></i> New deck…</li>
      <li><hr/></li>

      <li class="nav-header deckNav-item js-settingsItem"><h6><i class="icon-cog"></i> Settings</h6></li>
    </ul>
  </script>

  <script class="js-tpl-pristine" type="text/x-template">
    <div class="hero-unit root-well">
      <h2 class="muted">Welcome to OmniCard!</h2>
      <p>We help you learn languages via famous flash-card method. Choose your tongues:</p>

      <form>
        <label class="span4">
          I speak…<br/>
          <select name="native">
            <option value="ru">Russian</option>
          </select>
        </label>
        <label class="span4">
          I learn…<br/>
          <select name="learn">
            <option value="pl">Polish</option>
          </select>
        </label>
        <label class="span4 muted">
          I prefer interface in…<br/>
          <select name="learn" disabled="disabled">
            <option value="en">English</option>
          </select>
        </label>

        <div>
          <button class="btn btn-primary btn-large">Start!</button>
        </div>
      </form>
    </div>
  </script>

  <script class="js-tpl-start" type="text/x-template">
      <h4 class="muted">Choose a deck on your left and start learning!</h4>
      <div class="js-content <% if (!verbosity) { print('hidden') }%>">
        <p>Each deck provides several modes in which it can be discovered.</p>
          <dl>
            <dt>Meditation</dt>
            <dd>Shows you both sides of card, question and answer, allowing you to learn and remember.</dd>
            <dt>Test</dt>
            <dd>Forces you to choose correct answer, intended for further fixing. Not all decks are capable of this mode.</dd>
            <dt>Exam</dt>
            <dd>Hardest mode. You should enter answers manually. This is particularly useful in writing training.</dd>
          </dl>
          <p>You can also create your own deck, which is great because it forces you to train in writing.</p>
          <h4 class="muted">FAQ</h4>
          <dl>
            <dt>How do I edit deck?</dt>
            <dd>Open that deck and note two icons in the top left corner of deck's description, pencil and trash bin.
              Clicking pencil icon brings up deck editing mode, and trash can deletes this deck.
            </dd>

            <dt>How do I create new deck?</dt>
            <dd>Use <span class="badge">Add deck…</span> button located beneath deck list.</dd>

            <dt>I created/edited deck(s) to work on my primary PC, how do I get it on my phone/tablet/other PC?</dt>
            <dd>
              <ol>
                <li>
                  Open deck you need to transfer and click pencil icon in top left corner.
                </li>
                <li>Click <span class="badge">Export whole deck</span> button. You'll see big text field with lot of strange text.</li>
                <li>Copy that text.</li>
                <li>That's just text, so you can paste it around. Store it to the
                  <a href="https://drive.google.com" target="_blank">Google Drive</a>, send yourself email,
                  use a <a href="http://pastebin.com/">pastebin</a> service, etc.</li>
                <li>Open the location of your pasted text on device to which you want to transfer your work, and copy that text.</li>
                <li>
                  Open the OmniCard, and click <span class="badge">New deck…</span>. Click <span class="badge">Import deck</span>. Text input field would open.
                </li>
                <li>Paste copied text ino that field. Click<span class="badge">Done</span> button.</li>
              </ol>
              <p>Sounds more hard then it really is:)</p>
              <p>Additionally you can import/export cards only, and import/export all decks at once.</p>

            </dd>

            <dt>Application misbehaves/error in built-in deck/I have a suggestion/typo!</dt>
            <dd>Keep calm and <a href="https://github.com/hogart/OmniCard/issues/new">report a bug</a>. Thanks!</dd>
          </dl>
      </div>
      <button class="btn btn-primary js-hide <% if (!verbosity) { print('hidden') }%>">Don't show me this</button>
      <button class="btn btn-primary js-show <% if (verbosity) { print('hidden') }%>">Show help</button>
  </script>

  <script class="js-tpl-deck" type="text/x-template">
    <div class="well deckView-header">
      <div class="btn-group pull-right">
        <button class="btn js-editDeck" title="Edit deck"><i class="icon-pencil"></i></button>
        <button class="btn js-deleteDeck" title="Delete deck"><i class="icon-trash"></i></button>
      </div>
      <h4 class="muted"><%= deck.name %> (<%= deck.content.length %>)</h4>
      <% if (deck.description) { %><p><%= deck.description %></p><% } %>
      <% if (deck.tags && deck.tags.length) { %><p class="text-right muted"><small><%= deck.tags.join(', ') %></small></p><% } %>
      <label class="checkbox">
        <input type="checkbox" name="showCorrections" <% if (showCorrections) { print('checked="checked"') } %>/> Show correct answers
      </label>
      <div class="btn-group">
        <button class="btn js-startMeditation">Meditation</button>
        <% if (testable) { %><button class="btn js-startTest">Test</button><% } %>
        <button class="btn js-startExam">Exam</button>
      </div>
    </div>

    <div class="row-fluid deckView-questions">
      <div class="js-test"></div>
    </div>

    <div class="row-fluid deckView-score">
      <div class="js-score"></div>
      <div class="btn-group">
        <button class="btn js-startMeditation">Meditation</button>
        <% if (testable) { %><button class="btn js-startTest">Test</button><% } %>
        <button class="btn js-startExam">Exam</button>
      </div>
    </div>
  </script>

  <script class="js-tpl-testExam" type="text/x-template">
    <h4 class="muted"><%= name %></h4>
    <div class="progress progress-striped active">
      <div class="bar js-progress" style="width: 0%;"></div>
    </div>
    <ul class="unstyled">
      <% _.each(cards, function(card, index) { %>
        <li class="js-card form-inline<% if (index) { %> hidden<% } %>">
          <label><h3><%= card.q %></h3>
            <div class="input-append">
              <input class="input-large" type="text"/>
              <div class="btn-group js-answerBlock">
                <button class="btn btn-success js-answer">Answer</button>
                <button class="btn btn-warning js-skip">Skip</button>
              </div>
            </div>
          </label>
          <div class="js-correction text-error hidden"></div>
          <button class="btn js-next hidden">Next</button>
        </li>
      <% }); %>
    </ul>
  </script>

  <script class="js-tpl-testTest" type="text/x-template">
    <h4 class="muted"><%= name %></h4>
    <div class="progress progress-striped active">
      <div class="bar js-progress" style="width: 0%;"></div>
    </div>
    <ul class="unstyled">
      <% _.each(cards, function(card, index) { %>
        <li class="js-card form-inline<% if (index) { %> hidden<% } %>">
          <h3><%= card.q %></h3>
          <% _.each(card.a, function (answer) { %>
            <label class="radio">
              <input type="radio" name="testTest" value="<%= answer %>"/>
              <%= answer %>
            </label><br/>
          <% }); %>
          <br/>
          <div class="js-correction text-error hidden"></div>
          <button class="btn js-next hidden">Next</button>
          <div class="btn-group js-answerBlock">
            <button class="btn btn-success js-answer">Answer</button>
            <button class="btn btn-warning js-skip">Skip</button>
          </div>
        </li>
      <% }); %>
    </ul>
  </script>

  <script class="js-tpl-testMeditation" type="text/x-template">
    <h4 class="muted"><%= name %></h4>
    <div class="progress progress-striped active">
      <div class="bar js-progress" style="width: 0%;"></div>
    </div>
    <ul class="unstyled">
      <% _.each(cards, function(card, index) { %>
        <li class="js-card form-inline<% if (index) { %> hidden<% } %>">
          <h3><%= card.a %></h3>
          <h3><%= card.q %></h3>
          <button class="btn btn-warning js-next">Next</button>
        </li>
      <% }); %>
    </ul>
  </script>

  <script class="js-tpl-score" type="text/x-template">
    <% if (congrats) { %>
      <p class="text-info">Feeling like learned something new? Care to repeat or ready to testify yourself?</p>
    <% } else { %>
      <% if (wrong) { %><p class="text-error">Wrong answers: <span class="badge badge-warning"><%= wrong %></span></p><% } %>
      <% if (correct) { %><p class="text-success">Correct answers: <span class="badge badge-success"><%= correct %></span></p><% } %>
      <% if (!wrong) { %>
        <p class="text-success">Congratulations! You've performed excellent!</p>
      <% } else if (!correct) { %>
        <p class="text-error">Do not despair. Next time you will do better!</p>
      <% } else { %>
        <% if (wrong > correct) { %>
          <p class="text-warning">You definitely need more work, but so far so good.</p>
        <% } else { %>
          <p class="text-info">Not bad. Keep training!</p>
        <% } %>
      <% } %>
    <% } %>
  </script>

  <script class="js-tpl-editDeck" type="text/x-template">
    <form class="form">
      <h4 class="muted"><% if (!deck.isNew) { %>Edit deck „<%= deck.name %>“<% } else { print('Create new deck') } %></h4>

      <div class="form-actions js-dump js-dumpDeck">
        <% if (deck.isNew) { %>
          <button class="btn js-import" type="button"><i class="icon icon-download"></i> Import deck</button>
        <% } else { %>
          <button class="btn js-export" type="button"><i class="icon icon-upload"></i> Export whole deck</button>
        <% } %>

        <div class="hidden js-dumpster">
          <br/>
          <br/>
          <textarea class="span7" rows="5" placeholder="Paste deck here"><% if (!deck.isNew) { print(JSON.stringify(deck)); } %></textarea>
          <span class="help-block">Entire deck for sharing</span>
          <button class="btn btn-primary js-done" type="button">Done</button>
        </div>
      </div>

      <fieldset>
        <legend>Deck properties</legend>

        <label>Name:<br/>
          <input type="text" placeholder="Deck name" name="name" required="required" value="<%= deck.name %>" class="span7"/>
        </label>

        <label>Description:<br/>
          <textarea name="description" placeholder="Deck description (optional)" class="span7" rows="3"><%= deck.description %></textarea>
        </label>

        <label>Tags:<br/>
          <input type="text" name="tags" placeholder="Deck tags (optional)" class="span7" value="<%= deck.tags.join(', ') %>"/>
          <span class="help-block">Comma-separated list</span>
        </label>

        <label class="checkbox">
          <input type="checkbox" name="testable" <% if (deck.testable) { print('checked="checked"'); } %>/> Testable
          <span class="help-block">If deck is suitable for creating test automatically? (Won't work on deck shorter than 5 cards).</span>
        </label>
      </fieldset>

      <fieldset>
        <legend>Deck cards <% if (deck.content.length) { print('(' + deck.content.length + ')') } %></legend>

          <div class="form-actions js-dump js-dumpCards">
            <% if (deck.isNew) { %>
              <button class="btn js-import" type="button"><i class="icon icon-download"></i> Import cards</button>
            <% } else { %>
              <button class="btn js-export" type="button"><i class="icon icon-upload"></i> Export cards</button>
            <% } %>
            <div class="hidden js-dumpster">
              <br/>
              <br/>
              <textarea class="span7" rows="5" placeholder="Paste cards here"><%= cardsDump %></textarea>
              <span class="help-block">Newline separates cards; tab or 4 spaces separates question form answer (question first)</span>
              <button class="btn btn-primary js-done" type="button">Done</button>
            </div>
          </div>

          <div class="js-cardList">
            <% _.each(deck.content, function (card, index) { %>
              <div class="js-cardForm">
                <label>Question<br/>
                  <input type="text" value="<%= card.q %>" class="js-question span7" name="cardq"/>
                </label>
                <label>Answer<br/>
                  <input type="text" value="<%= card.a %>" class="js-answer span7" name="carda"/>
                </label>

                <button class="js-deleteCard btn btn-danger btn-small">Delete card</button>
                <hr/>
              </div>
            <% }) %>
          </div>

        <div class="js-addCard">
          <span class="help-block">Add card:</span>
          <label>Question<br/>
            <input type="text" value="" class="js-question span7"/>
          </label>
          <label>Answer<br/>
            <input type="text" value="" class="js-answer span7"/>
          </label>

          <button class="js-confirm btn btn-success btn-small" type="button">Add card</button>
        </div>

        <div class="js-cardTemplate hidden">
          <div class="js-cardForm">
            <label>Question<br/>
              <input type="text" class="js-question span7" name="cardq"/>
            </label>
            <label>Answer<br/>
              <input type="text" class="js-answer span7" name="carda"/>
            </label>

            <button class="js-deleteCard btn btn-danger btn-small">Delete card</button>
            <hr/>
          </div>
        </div>
      </fieldset>

      <br/>

      <div class="form-actions">
        <button class="btn btn-primary" type="submit">Save deck</button>
        <button class="btn" type="reset">Cancel</button>
      </div>
    </form>
  </script>

  <script class="js-tpl-settings" type="text/x-template">
    <h4 class="muted">Settings</h4>
    <p>
      <button class="btn btn-primary js-dump"><i class="icon-hdd icon-white"></i> Import/export…</button><br/>
      Lets import and export all your decks as a whole. Useful when transferring them to other device.
    </p>
    <p>
      <button class="btn btn-danger js-reset"><i class="icon-fire icon-white"></i> Clear all</button><br/>
      Deletes all decks and settings entirely. You must know what you're doing.
    </p>
  </script>

  <script class="js-tpl-dump" type="text/x-template">
    <form class="form">
      <h4 class="muted">Share decks</h4>
      <label>
        <textarea class="span7" rows="5"></textarea>
      </label>
      <span class="help-block">
        Copy contents of this field and send it as text via email, any <a href="http://pastebin.com/">pastebin</a>, etc.<br/>
      </span>
      <label class="checkbox">
        <input type="checkbox" class="js-beauty"/> Nice formatting
      </label>

      <div class="form-actions">
        <button class="btn btn-primary" type="submit">Save</button>
        <button class="btn js-reset" type="button">Cancel</button>
      </div>
    </form>
  </script>
</body>
</html>